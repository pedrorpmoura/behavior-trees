behavior : [
    sequence : [
        selector : [
            condition: $door_found,
            action: $find_door
        ],
        selector : [
            action: $open_door,
            action: $picklock_door
        ],
        action : $enter
    ]
]


%%
def player_close(entity):
    return player.position in entity.reachable_positions()

def chase_player(entity):
    entity.chase(player)
    return RUNNING


def open_door():
    if key in entity.inventory:
        return SUCCESS
    else:
        return FAILURE

def patrol_castle(entity):
    entity.patrol()
    return RUNNING